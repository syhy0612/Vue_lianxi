{"version":3,"file":"Login-DLvVi5DT.js","sources":["../../src/views/Login.vue"],"sourcesContent":["<template>\n  <div id=\"theMain\">\n    <div class=\"loginBox\">\n      <h3>登录界面</h3>\n      <!--<el-form :model=\"loginForm\" label-width=\"20px\">\n              <el-form-item label=\"用户名\">\n                <el-input v-model=\"loginForm.username\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"密码\">\n                <el-input v-model=\"loginForm.password\"></el-input>\n              </el-form-item>\n            </el-form>-->\n      <label for=\"username\">账号：</label>\n      <input type=\"text\" id=\"username\" v-model=\"loginForm.username\" :readonly=\"readonlyJudge\">\n      <div class=\"errorInfo\" v-if=\"errorUser\">{{ errorInfo }}</div>\n      <div></div>\n      <label for=\"password\">密码：</label>\n      <input type=\"password\" name=\"\" id=\"password\" v-model=\"loginForm.password\" readonly></input>\n      <div></div>\n      <button @click=login v-if=\"!userStore.isLoggedIn\">登录</button>\n      <button @click=exit v-if=\"userStore.isLoggedIn\">退出</button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {ref, reactive, computed} from 'vue'\nimport {useRouter} from 'vue-router'\nimport {useUserStore} from \"@/stores/userStore.js\";\nimport {useTitleStore} from \"@/stores/titleStore.js\"\n\nconst readonlyJudge = computed(() => userStore.isLoggedIn)\nconst router = useRouter()\nconst userStore = useUserStore()\nuserStore.initializeStore()\nconst loginForm = reactive({\n  username: userStore.username,\n  password: '123456'  // 默认密码\n})\nconst errorUser = ref(false)\nconst errorInfo = ref('')\nuseTitleStore().setTitle('登录界面')\nuseTitleStore().setDescription('这里没想好能写啥')\nconst login = () => {\n  const user = loginForm.username.trim()\n  if (!user) {\n    errorInfo.value = '请输入用户名'\n    errorUser.value = true\n    loginForm.username = ''\n  } else if (user.length > 10) {\n    errorInfo.value = '用户名不能超过10个字符'\n    errorUser.value = true\n  } else {\n    console.log(loginForm.username)\n    useUserStore().login(loginForm.username)\n    router.push('/home')\n  }\n}\n\nconst exit = () => {\n  useUserStore().logout()\n  router.push('/login')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#theMain {\n  width: 100%;\n  height: 90vh;\n  overflow: auto;\n  color: white;\n}\n\n.loginBox {\n  text-align: center;\n  font-size: 24px;\n}\n\nh3 {\n  //text-align: center;\n  //color: white;\n  font-size: 40px;\n}\n\ninput {\n  height: 24px;\n}\n\n.errorInfo {\n  font-size: 16px;\n}\n</style>"],"names":["readonlyJudge","computed","userStore","router","useRouter","useUserStore","loginForm","reactive","errorUser","ref","errorInfo","useTitleStore","login","user","exit"],"mappings":"4eA+BA,MAAMA,EAAgBC,EAAS,IAAMC,EAAU,UAAU,EACnDC,EAASC,EAAW,EACpBF,EAAYG,EAAc,EAChCH,EAAU,gBAAiB,EAC3B,MAAMI,EAAYC,EAAS,CACzB,SAAUL,EAAU,SACpB,SAAU,QACZ,CAAC,EACKM,EAAYC,EAAI,EAAK,EACrBC,EAAYD,EAAI,EAAE,EACxBE,EAAe,EAAC,SAAS,MAAM,EAC/BA,EAAe,EAAC,eAAe,UAAU,EACzC,MAAMC,EAAQ,IAAM,CAClB,MAAMC,EAAOP,EAAU,SAAS,KAAM,EACjCO,EAIMA,EAAK,OAAS,IACvBH,EAAU,MAAQ,eAClBF,EAAU,MAAQ,KAElB,QAAQ,IAAIF,EAAU,QAAQ,EAC9BD,IAAe,MAAMC,EAAU,QAAQ,EACvCH,EAAO,KAAK,OAAO,IATnBO,EAAU,MAAQ,SAClBF,EAAU,MAAQ,GAClBF,EAAU,SAAW,GASzB,EAEMQ,EAAO,IAAM,CACjBT,EAAY,EAAG,OAAQ,EACvBF,EAAO,KAAK,QAAQ,CACtB"}